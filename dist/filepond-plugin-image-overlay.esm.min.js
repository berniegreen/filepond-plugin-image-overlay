/*!
 * FilePondPluginImageOverlay 1.0.0
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */

/* eslint-disable */

const e=e=>/^image/.test(e.type),t=()=>{let e=document.createElement("span");return e.className="filepond--magnify-icon",e},n=e=>{const t=document.createElement("div");t.className="filepond--fullsize-overlay";const n=document.createElement("div");n.className="image-container",n.style.backgroundImage="url("+URL.createObjectURL(e.file)+")",i(e,n);let d=document.getElementsByTagName("body")[0];t.appendChild(n),d.appendChild(t),t.addEventListener("click",()=>t.remove())},i=(e,t)=>{const n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);((e,t)=>{let n=new Image;n.onload=(()=>{const e=n.naturalWidth,i=n.naturalHeight;n=null,t(e,i)}),n.src=e})(URL.createObjectURL(e.file),(e,d)=>{(e>n||d>i)&&(t.style.backgroundSize="contain")})},d=i=>{const{addFilter:d,utils:o}=i,{Type:c,createRoute:l}=o;return d("CREATE_VIEW",i=>{const{is:d,view:o,query:c}=i;if(!d("file"))return;o.registerWriter(l({DID_LOAD_ITEM:({root:i,props:d})=>{const{id:o}=d,l=c("GET_ITEM",o);l&&!l.archived&&e(l.file)&&(((e,i)=>{const d=i.querySelector(".filepond--file-info-main"),o=t();d.prepend(o),o.addEventListener("click",()=>n(e)),window.setTimeout(()=>{const t=i.querySelector(".filepond--image-preview");t&&(t.classList.add("clickable"),t.addEventListener("click",()=>n(e)))},1e3)})(l,i.element),i.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:o}))}},({root:t,props:n})=>{const{id:i}=n,d=c("GET_ITEM",i);e(d.file)&&t.rect.element.hidden}))}),{options:{}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:d}));export default d;
